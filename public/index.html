<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, user-scalable=yes"
          name="viewport">
    <meta content="ie=edge" http-equiv="X-UA-Compatible">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <script>
        document.documentElement.style.setProperty('--animate-duration', '.25s')

        function PopUpShow(board_id, description_value, executor_value, start_time_value, finish_time_value) {
            const animation = 'animate__animated animate__fadeIn'
            const animationEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd onaimationend animationend'
            const description = $('#task-description')
            const executor = $('#in-charge')
            const startTime = $('#task-start')
            const finishTime = $('#task-finish')

            console.log(board_id, description_value, executor_value, start_time_value, finish_time_value)

            switch (board_id) {
                case 'board-1':
                    description
                        .attr('value', description_value)
                    executor
                        .attr('required', false)
                        .attr('disabled', true)
                        .css('opacity', '.25')
                    startTime.attr('required', false).attr('disabled', true).css('opacity', '.25')
                    finishTime.attr('required', false).attr('disabled', true).css('opacity', '.25')
                    break
                case 'board-2':
                    executor
                        .attr('value', executor_value)
                        .attr('required', true).attr('disabled', false).css('opacity', '1')
                    startTime.attr('required', true).attr('disabled', false).css('opacity', '1')
                    finishTime.attr('required', false).attr('disabled', true).css('opacity', '.25')
                    break
                case 'board-3':
                    executor.attr('required', true).attr('disabled', false).css('opacity', '1')
                    startTime.attr('required', true).attr('disabled', false).css('opacity', '1')
                    finishTime.attr('required', true).attr('disabled', false).css('opacity', '1')
                    break
            }

            $('.modal').css("display", "flex").addClass(animation).one(animationEnd, function () {
                $('.modal').removeClass(animation)
            })

        }

        function PopUpHide() {
            const animation = 'animate__animated animate__fadeOut'
            const animationEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd onaimationend animationend'

            $('.modal').addClass(animation).one(animationEnd, function () {
                $('.modal').removeClass(animation).css("display", "none")
            })
        }

        let i = 0;

        function ChangeTheme() {
            const light = "css/main-light.css"
            const dark = "css/main-dark.css"

            i++
            if (i % 2 === 1) {
                document.getElementById('page-style').setAttribute("href", dark)
            } else {
                document.getElementById('page-style').setAttribute("href", light)

            }
        }
    </script>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&family=Roboto:wght@300;400;500;700&display=swap"
          rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css" rel="stylesheet"/>

    <link href="css/main-light.css" id="page-style" rel="stylesheet">

    <title>Канбан-доска на Vue.js</title>
</head>
<body class="page">
<header class="header">
    <h1 class="header__title">Кабан</h1>

    <!--    button that changes theme    -->
    <button class="header__button material-icons" onclick="ChangeTheme()">brightness_medium</button>
</header>

<!--    message if JavaScript isn't enabled    -->
<noscript>
    <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled.
        Please enable it to continue.</strong>
</noscript>

<main class="main" id="main"></main>
</body>
</html>
